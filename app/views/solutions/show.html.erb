<%= render layout: 'shared/qa_objects/show',locals:{qa_object: @solution,use_super_controller: true } do %>
    <%= render partial: "shared/#{@solution.examination.model_name.route_key}/nav",locals: {@solution.examination.model_name.singular_route_key.to_sym => @solution.examination} %>
<% end %>

<div class="qa_sep_15"></div>
<%= render partial: "corrections/index",locals: {solution: @solution} %>
<div class="qa_sep_15"></div>




<% if allow? :corrections,:create,@solution %>
    <%= render layout: "shared/common_states/completed",locals: {state_object: @solution} do %>
        <div class="box_header qa_cell">
          <strong><%= @correction.model_name.human%></strong>
        </div>
        <ul class="nav nav-tabs" role="tablist">
          <li role="presentation" class="active"><a href="#normal" aria-controls="normal" role="tab" data-toggle="tab">原题批改</a></li>
          <li role="presentation"><a href="#course_library_solution_ref" aria-controls="course_library_solution_ref" role="tab" data-toggle="tab">引用解答</a></li>
        </ul>
        <div class="tab-content">
          <div role="tabpanel" class="tab-pane active" id="normal">
            <%= render 'corrections/form' %>
          </div>
          <div role="tabpanel" class="tab-pane" id="course_library_solution_ref">
            <% if not @solution.examination.template.nil? %>
                <%= simple_form_for(@correction,url: object_form_url(@solution,@correction)) do |f| %>
                    <%= f.collection_radio_buttons :template ,@solution.examination.template.solutions,:id,:title do |b|%>
                        <%= b.label { b.radio_button + b.text+ video_js_player(b.object.video,width: 360,height: 120) } %>
                    <% end %>
                    <div class="form-group">
                      <%= f.button :submit, class: "btn btn-default" %>
                    </div>
                <% end %>
            <% else %>
                此题目不是来自于大纲课程
            <% end %>
          </div>
        </div>
    <% end %>
<% end %>

