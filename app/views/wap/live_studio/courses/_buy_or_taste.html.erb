<% if current_user.blank? %>
  <%= link_to t('wap.live_studio/courses.show.join_taste'), 'javascript:app_notice();', class: 'details-btn-add' %>
  <%= link_to t('wap.live_studio/courses.show.enroll_now'), main_app.new_wap_live_studio_course_order_path(@course, params.permit(:come_from,:coupon_code)), class: 'details-btn-signup' %>
<% else %>
  <% if @course.bought_by?(current_user) %>
    <!-- 已经购买 -->
    <%= link_to t('wap.live_studio/courses.show.start_learning'), 'javascript:app_notice();', class: 'details-btn-start' %>
  <% elsif @course.tasted?(current_user) %>
    <!-- 未购买试听结束 -->
    <!-- 试听结束和购买按钮 -->
    <%= link_to t('wap.live_studio/courses.show.taste_end'), 'javascript:app_notice();', class: 'details-btn-add details-btn-end' %>
    <%= link_to t('wap.live_studio/courses.show.enroll_now'), main_app.new_wap_live_studio_course_order_path(@course, params.permit(:come_from,:coupon_code)), class: 'details-btn-signup' %>
  <% elsif @course.tasting?(current_user) %>
    <!-- 开始试听和购买按钮 -->
    <%= link_to t('wap.live_studio/courses.show.enter_taste'), 'javascript:app_notice();', class: 'details-btn-add details-btn-enter' %>
    <%= link_to t('wap.live_studio/courses.show.enroll_now'), main_app.new_wap_live_studio_course_order_path(@course, params.permit(:come_from,:coupon_code)), class: 'details-btn-signup' %>
  <% elsif @course.taste_count <= 0 %>
    <%= link_to t('wap.live_studio/courses.show.enroll_now'), main_app.new_wap_live_studio_course_order_path(@course, params.permit(:come_from,:coupon_code)), class: 'details-btn-signup' %>
  <% else %>
    <!-- 试听和购买按钮 -->
    <%= link_to t('wap.live_studio/courses.show.join_taste'), 'javascript:app_notice();', class: 'details-btn-add' %>
    <%= link_to t('wap.live_studio/courses.show.enroll_now'), main_app.new_wap_live_studio_course_order_path(@course, params.permit(:come_from,:coupon_code)), class: 'details-btn-signup' %>
  <% end %>
<% end %>